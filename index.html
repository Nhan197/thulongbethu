<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√© Th∆∞ hi·ªÉu anh NhƒÉn ƒë∆∞·ª£c bao nhi√™u r√≤i? üíñ</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff758c;
            --secondary: #ff7eb3;
            --bg-color: #ffe4e1;
            --text-color: #d63384;
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            font-family: 'Quicksand', sans-serif;
            background: linear-gradient(135deg, var(--bg-color) 0%, #fff0f5 100%);
            color: #555;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-x: hidden;
            position: relative;
        }

        /* N·ªÅn tr√°i tim bay bay */
        .hearts-bg {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            pointer-events: none; z-index: 0; opacity: 0.5;
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='50' height='50' viewBox='0 0 24 24'><path fill='%23ffb6c1' d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/></svg>");
            background-size: 80px 80px;
        }

        .container {
            width: 100%; max-width: 600px;
            background: var(--card-bg);
            border-radius: 30px;
            padding: 40px 30px;
            box-shadow: 0 15px 35px rgba(255, 117, 140, 0.2);
            position: relative; z-index: 10;
            margin-top: 5vh;
            border: 4px dashed #ffb6c1;
        }

        h1, h2, h3 { color: var(--text-color); text-align: center; }
        
        .hidden { display: none !important; }

        /* M√ÄN H√åNH CH·ªú */
        #start-screen h1 { font-size: 32px; margin-bottom: 15px; line-height: 1.4;}
        #start-screen p { text-align: center; font-size: 18px; font-weight: 600; color: #ff6b81; margin-bottom: 30px;}
        
        .btn-start {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white; border: none; border-radius: 50px;
            padding: 15px 40px; font-size: 22px; font-weight: 900;
            cursor: pointer; width: 100%; transition: transform 0.2s, box-shadow 0.2s;
            box-shadow: 0 8px 20px rgba(255, 117, 140, 0.4);
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* M√ÄN H√åNH THI */
        .progress-text { text-align: center; font-size: 18px; font-weight: 900; color: #ff9a9e; margin-bottom: 20px; }
        .question-text { font-size: 20px; font-weight: 700; color: #2d3436; margin-bottom: 25px; text-align: justify; line-height: 1.5;}
        
        .option-btn {
            display: block; width: 100%; background: #fff0f5;
            border: 2px solid #ffb6c1; border-radius: 15px;
            padding: 15px 20px; margin-bottom: 15px;
            font-size: 16px; font-weight: 600; color: #555; text-align: left;
            cursor: pointer; transition: all 0.2s;
            font-family: 'Quicksand', sans-serif;
        }
        .option-btn:hover:not(:disabled) {
            background: #ffe4e1; transform: translateX(5px);
            box-shadow: 0 4px 10px rgba(255, 182, 193, 0.5);
        }
        .option-btn.selected { background: var(--primary); color: white; border-color: var(--primary); transform: scale(0.98);}
        .option-btn:disabled { cursor: not-allowed; }

        /* M√ÄN H√åNH K·∫æT QU·∫¢ */
        #result-screen { text-align: center; }
        .score-box { background: #fff0f5; padding: 20px; border-radius: 20px; margin: 20px 0; border: 2px dashed var(--primary);}
        .score-box h1 { font-size: 50px; color: var(--primary); margin: 10px 0;}
        .msg { font-size: 18px; font-weight: 700; color: #ff6b81; margin-bottom: 30px;}

        /* ƒê√ÅP √ÅN CHI TI·∫æT */
        .review-box { text-align: left; margin-top: 30px; }
        .review-item { background: #fafafa; padding: 20px; border-radius: 15px; margin-bottom: 20px; border: 2px solid #eee; }
        .review-q { font-weight: 700; font-size: 16px; color: #333; margin-bottom: 15px;}
        .review-opt { padding: 10px; margin-bottom: 8px; border-radius: 10px; font-size: 15px; font-weight: 600; background: #fff; border: 1px solid #ddd;}
        
        .thu-chose { border: 2px solid #ff4757; background: #fff0f0; color: #e74c3c; } /* Th∆∞ ch·ªçn sai */
        .nhan-correct { border: 2px solid #2ed573; background: #eafaf1; color: #27ae60; } /* √ù c·ªßa NhƒÉn */
        .both-match { border: 2px solid #2ed573; background: #eafaf1; color: #27ae60; position: relative; } /* Th∆∞ ch·ªçn tr√∫ng √Ω NhƒÉn */

        .badge { font-size: 12px; padding: 3px 8px; border-radius: 10px; color: white; float: right;}
        .bg-thu { background: #ff4757; }
        .bg-nhan { background: #27ae60; }
        .bg-match { background: #2ed573; }
    </style>
</head>
<body>

    <audio id="bgm" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/01/26/audio_d0c6ff1bc0.mp3" type="audio/mp3">
    </audio>
    <audio id="pop-sound">
        <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8b81ceeb3.mp3" type="audio/mp3">
    </audio>

    <div class="hearts-bg"></div>

    <div class="container" id="start-screen">
        <h1>üíï B√© Th∆∞ hi·ªÉu anh NhƒÉn ƒë√≤n dong ƒë∆∞·ª£c bao nhi√™u r√≤i? üíï</h1>
        <p>B√© c√≥ 60 ph√∫t ƒë·ªÉ l√†m b√†i v√† ch·ªâ ƒë∆∞·ª£c ch·ªçn 1 l·∫ßn duy nh·∫•t, sai l√† kh√¥ng c√≥ ƒë∆∞·ªùng lui ƒë√¢u nhaaaa! üòò</p>
        <button class="btn-start" onclick="startQuiz()">L√âT G√î √î √î üöÄ</button>
    </div>

    <div class="container hidden" id="quiz-screen">
        <div class="progress-text">C√¢u <span id="current-q">1</span> / 20 üéÄ</div>
        <div class="question-text" id="question-text">C√¢u h·ªèi s·∫Ω hi·ªán ·ªü ƒë√¢y...</div>
        <div id="options-container">
            </div>
    </div>

    <div class="container hidden" id="result-screen">
        <h2>üéâ TADA! ƒê√É C√ì K·∫æT QU·∫¢ üéâ</h2>
        <div class="score-box">
            <h3>ƒê·ªô th·∫•u hi·ªÉu c·ªßa B√© Th∆∞:</h3>
            <h1 id="score-text">0 / 20</h1>
        </div>
        <div class="msg" id="msg-text">L·ªùi nh·∫Øn nh·ªß...</div>
        
        <h3 style="margin-top: 40px; border-bottom: 2px dashed #ffb6c1; padding-bottom: 10px;">üëá B√ìC PH·ªêT ƒê√ÅP √ÅN üëá</h3>
        <p style="font-size: 14px; margin-top: 10px; color: #555;">(M√†u xanh: S·ª± th·∫≠t c·ªßa anh NhƒÉn | M√†u ƒë·ªè: B√© Th∆∞ ch·ªçn sai)</p>
        <div class="review-box" id="review-container">
            </div>
    </div>

    <script>
        // ==========================================
        // ANH NHƒÇN S·ª¨A ƒê√ÅP √ÅN ·ªû CH·ªñ "correct: X" NH√â! 
        // Quy ∆∞·ªõc: 0 l√† A, 1 l√† B, 2 l√† C, 3 l√† D
        // ==========================================
        const quizData = [
            {
                q: "C√¢u 1: ƒê√¢u l√† 'm√≥n ƒÉn ch√¢n √°i' c·ªßa anh NhƒÉn m·ªói khi th·∫•y bu·ªìn ch√°n hay cƒÉng th·∫≥ng?",
                options: ["A. ƒê·ªì ng·ªçt (Tr√† s·ªØa, b√°nh ng·ªçt, socola...)", "B. ƒê·ªì ƒÉn v·∫∑t (B√°nh tr√°ng tr·ªôn, c√° vi√™n chi√™n...)", "C. ƒê·ªì fastfood (G√† r√°n, pizza, hamburger...)", "D. M·ªôt m√≥n n∆∞·ªõc n√≥ng h·ªïi (Ph·ªü, b√∫n b√≤, l·∫©u...)"],
                correct: 0 // ƒê·ªïi s·ªë n√†y th√†nh ƒë√°p √°n ƒë√∫ng c·ªßa anh nh√©
            },
            {
                q: "C√¢u 2: Th√≥i quen bu·ªïi s√°ng th·ª©c d·∫≠y c·ªßa anh NhƒÉn l√† g√¨?",
                options: ["A. B·∫•m t·∫Øt b√°o th·ª©c v√† 'n∆∞·ªõng' th√™m 10 ph√∫t n·ªØa.", "B. B·∫≠t d·∫≠y ngay l·∫≠p t·ª©c v√† ƒëi ƒë√°nh rƒÉng r·ª≠a m·∫∑t.", "C. N·∫±m v·ªçc ƒëi·ªán tho·∫°i, l∆∞·ªõt m·∫°ng x√£ h·ªôi m·ªôt l√∫c m·ªõi d·∫≠y.", "D. Nh·∫Øn tin/g·ªçi ƒëi·ªán ch√†o bu·ªïi s√°ng B√© Th∆∞ ngay."],
                correct: 3
            },
            {
                q: "C√¢u 3: ƒê√¢u l√† th·ªÉ lo·∫°i phim y√™u th√≠ch nh·∫•t c·ªßa anh NhƒÉn?",
                options: ["A. L√£ng m·∫°n, t√¨nh c·∫£m s∆∞·ªõt m∆∞·ªõt.", "B. H√†nh ƒë·ªông, vi·ªÖn t∆∞·ªüng, si√™u anh h√πng.", "C. Kinh d·ªã, trinh th√°m, gi·∫≠t g√¢n, 'hack n√£o'.", "D. H√†i h∆∞·ªõc, gi·∫£i tr√≠ nh·∫π nh√†ng ho·∫∑c ho·∫°t h√¨nh."],
                correct: 1
            },
            {
                q: "C√¢u 4: N∆°i h·∫πn h√≤/du l·ªãch l√Ω t∆∞·ªüng nh·∫•t trong m∆° c·ªßa anh NhƒÉn l√† ·ªü ƒë√¢u?",
                options: ["A. Bi·ªÉn xanh, c√°t tr·∫Øng, n·∫Øng v√†ng.", "B. V√πng n√∫i cao, th·ªùi ti·∫øt se l·∫°nh (ƒê√† L·∫°t, Sapa...).", "C. Th√†nh ph·ªë hi·ªán ƒë·∫°i, s·∫ßm u·∫•t, nh·ªôn nh·ªãp mua s·∫Øm.", "D. M·ªôt n∆°i hoang s∆°, y√™n tƒ©nh, c·∫Øm tr·∫°i h√≤a m√¨nh v√†o thi√™n nhi√™n."],
                correct: 1
            },
            {
                q: "C√¢u 5: N·∫øu ƒë∆∞·ª£c ch·ªçn nu√¥i th√∫ c∆∞ng, anh NhƒÉn thu·ªôc team n√†o?",
                options: ["A. Team y√™u Ch√≥ (C√∫n).", "B. Team y√™u M√®o (Ho√†ng th∆∞·ª£ng).", "C. Th√≠ch c√°c lo√†i kh√°c (Chim, c√°, r√πa, hamster...).", "D. Team kh√¥ng th√≠ch nu√¥i (S·ª£ b·∫©n, l∆∞·ªùi d·ªçn...)."],
                correct: 0
            },
            {
                q: "C√¢u 6: Ph·∫£n ·ª©ng th∆∞·ªùng th·∫•y nh·∫•t c·ªßa anh NhƒÉn khi t·ª©c gi·∫≠n l√† g√¨?",
                options: ["A. Im l·∫∑ng tuy·ªát ƒë·ªëi, chi·∫øn tranh l·∫°nh ch·ªù t·ª± h·∫øt gi·∫≠n.", "B. B·∫≠t kh√≥c ho·∫∑c b·ªôc l·ªô c·∫£m x√∫c m·∫°nh m·∫Ω ra ngo√†i.", "C. Mu·ªën 'ba m·∫∑t m·ªôt l·ªùi', n√≥i chuy·ªán r√µ r√†ng ngay l·∫≠p t·ª©c.", "D. B·ªè ƒëi ch·ªó kh√°c, ki·∫øm ƒë·ªì ƒÉn ngon ho·∫∑c ƒëi ch∆°i ƒë·ªÉ x·∫£ gi·∫≠n."],
                correct: 2
            },
            {
                q: "C√¢u 7: ƒêi·ªÉm y·∫øu l·ªõn nh·∫•t c·ªßa anh NhƒÉn trong cu·ªôc s·ªëng/c√¥ng vi·ªác l√† g√¨?",
                options: ["A. N√£o c√° v√†ng, ch√∫a t·ªÉ hay qu√™n.", "B. N√≥ng t√≠nh, d·ªÖ m·∫•t b√¨nh tƒ©nh khi c√≥ s·ª± c·ªë.", "C. B·ªánh tr√¨ ho√£n (N∆∞·ªõc ƒë·∫øn ch√¢n m·ªõi nh·∫£y).", "D. Suy nghƒ© qu√° nhi·ªÅu (Overthinking) v√† hay t·ª± l√†m kh·ªï m√¨nh."],
                correct: 3
            },
            {
                q: "C√¢u 8: C√°ch t·ªët nh·∫•t ƒë·ªÉ l√†m anh NhƒÉn vui l√™n khi ƒëang t·ª•t mood l√† g√¨?",
                options: ["A. 'C·ªëng n·∫°p' m√≥n ƒë·ªì ƒÉn/th·ª©c u·ªëng y√™u th√≠ch.", "B. √îm m·ªôt c√°i th·∫≠t ch·∫∑t v√† ki√™n nh·∫´n l·∫Øng nghe.", "C. Ting ting chuy·ªÉn kho·∫£n ho·∫∑c t·∫∑ng m·ªôt m√≥n qu√†.", "D. D·∫´n ƒëi l∆∞·ª£n l·ªù h√≥ng gi√≥, h√≠t th·ªü kh√¥ng kh√≠."],
                correct: 1
            },
            {
                q: "C√¢u 9: Ng√¥n ng·ªØ t√¨nh y√™u (Love Language) m√† anh NhƒÉn mu·ªën nh·∫≠n ƒë∆∞·ª£c nh·∫•t l√† g√¨?",
                options: ["A. L·ªùi n√≥i y√™u th∆∞∆°ng, khen ng·ª£i v√† ƒë·ªông vi√™n.", "B. C·ª≠ ch·ªâ √¢u y·∫øm v·∫≠t l√Ω (N·∫Øm tay, √¥m ·∫•p...).", "C. D√†nh th·ªùi gian ch·∫•t l∆∞·ª£ng tr·ªçn v·∫πn b√™n nhau.", "D. H√†nh ƒë·ªông chƒÉm s√≥c th·ª±c t·∫ø ho·∫∑c nh·ªØng m√≥n qu√†."],
                correct: 2
            },
            {
                q: "C√¢u 10: N·ªói s·ª£ h√£i l·ªõn nh·∫•t (ho·∫∑c th·ª© gh√©t nh·∫•t) c·ªßa anh NhƒÉn l√† g√¨?",
                options: ["A. C√¥n tr√πng/ƒê·ªông v·∫≠t (Nh·ªán, gi√°n, chu·ªôt...).", "B. S·ª± l·ªÅ m·ªÅ, b·ªã ng∆∞·ªùi kh√°c cho leo c√¢y.", "C. Ch·ªó ƒë√¥ng ng∆∞·ªùi ·ªìn √†o, ng·ªôt ng·∫°t, ph·∫£i chen l·∫•n.", "D. S·ª± d·ªëi tr√°, b·ªã l·ª´a g·∫°t."],
                correct: 3
            },
            {
                q: "C√¢u 11: Anh NhƒÉn l√† ki·ªÉu ng∆∞·ªùi ti√™u ti·ªÅn nh∆∞ th·∫ø n√†o?",
                options: ["A. Ti√™u x√†i theo c·∫£m x√∫c, th√≠ch l√† ch·ªët ƒë∆°n.", "B. C·ª±c k·ª≥ ti·∫øt ki·ªám, t√≠nh to√°n c·∫©n th·∫≠n t·ª´ng ƒë·ªìng.", "C. R·∫•t c√≥ k·∫ø ho·∫°ch, bi·∫øt c√¢n b·∫±ng gi·ªØa chi ti√™u v√† ti·∫øt ki·ªám.", "D. R·ªông r√£i khi ƒëi ƒÉn ch∆°i nh∆∞ng keo ki·ªát khi mua ƒë·ªì (ho·∫∑c ng∆∞·ª£c l·∫°i)."],
                correct: 2
            },
            {
                q: "C√¢u 12: Phong c√°ch ƒÉn m·∫∑c h√†ng ng√†y c·ªßa anh NhƒÉn thi√™n v·ªÅ h∆∞·ªõng n√†o?",
                options: ["A. ChƒÉm ch√∫t, b·∫£nh bao, lu√¥n b·∫Øt k·ªãp trend.", "B. NƒÉng ƒë·ªông, tho·∫£i m√°i (√Åo ph√¥ng, qu·∫ßn jean, sneaker).", "C. Thanh l·ªãch, tr∆∞·ªüng th√†nh, t·ªëi gi·∫£n (S∆° mi, qu·∫ßn t√¢y).", "D. R·∫•t xu·ªÅ x√≤a, m·ªü t·ªß th·∫•y c√°i g√¨ l√† m·∫∑c c√°i ƒë√≥."],
                correct: 1
            },
            {
                q: "C√¢u 13: Th√≥i quen ƒëi ng·ªß c·ªßa anh NhƒÉn l√† g√¨?",
                options: ["A. C√∫ ƒë√™m ch√≠nh hi·ªáu, th·ª©c c√†y phim/ch∆°i game ƒë·∫øn s√°ng.", "B. Ng·ªß s·ªõm d·∫≠y s·ªõm, sinh ho·∫°t nh∆∞ ng∆∞·ªùi gi√†.", "C. Ng·ªß r·∫•t say, s·∫•m ch·ªõp n·ªï b√™n tai c≈©ng kh√¥ng t·ªânh.", "D. R·∫•t kh√≥ ng·ªß, d·ªÖ b·ªã t·ªânh gi·∫•c b·ªüi ti·∫øng ƒë·ªông nh·ªè."],
                correct: 0
            },
            {
                q: "C√¢u 14: Th√°i ƒë·ªô c·ªßa anh NhƒÉn ƒë·ªëi v·ªõi vi·ªác d·ªçn d·∫πp vi·ªác nh√†?",
                options: ["A. B·ªánh s·∫°ch s·∫Ω, ph√≤ng l√∫c n√†o c≈©ng ph·∫£i ngƒÉn n·∫Øp b√≥ng lo√°ng.", "B. T√πy h·ª©ng, l√∫c si√™ng th√¨ d·ªçn s·∫°ch, l√∫c l∆∞·ªùi th√¨ b·ª´a b·ªôn.", "C. R·∫•t gh√©t l√†m vi·ªác nh√†, ƒë√πn ƒë·∫©y ƒë∆∞·ª£c l√† ƒë√πn ƒë·∫©y.", "D. Th√≠ch ph√¢n chia c√¥ng b·∫±ng, ai x·∫£ ra ng∆∞·ªùi ƒë√≥ t·ª± d·ªçn."],
                correct: 1
            },
            {
                q: "C√¢u 15: N·∫øu tr√∫ng s·ªë ƒë·ªôc ƒë·∫Øc, vi·ªác ƒë·∫ßu ti√™n anh NhƒÉn l√†m s·∫Ω l√† g√¨?",
                options: ["A. G·ª≠i ti·∫øt ki·ªám ho·∫∑c ƒëem ƒëi ƒë·∫ßu t∆∞ sinh l·ªùi an to√†n.", "B. Mua s·∫Øm h√†ng hi·ªáu, mua nh√†, ƒë·ªïi xe h∆°i.", "C. ƒê·∫∑t ngay v√© ƒëi du l·ªãch v√≤ng quanh th·∫ø gi·ªõi.", "D. ƒê∆∞a h·∫øt cho B√© Th∆∞ qu·∫£n l√Ω h·ªô."],
                correct: 3
            },
            {
                q: "C√¢u 16: K·ª∑ ni·ªám v·ªÅ bu·ªïi h·∫πn h√≤ ƒë·∫ßu ti√™n c·ªßa hai ƒë·ª©a trong ƒë·∫ßu anh NhƒÉn b√¢y gi·ªù ra sao?",
                options: ["A. Nh·ªõ r√µ t·ª´ng chi ti·∫øt nh·ªè, B√© Th∆∞ m·∫∑c ƒë·ªì g√¨, ƒëi ƒë√¢u, ƒÉn g√¨.", "B. Ch·ªâ nh·ªõ mang m√°ng ƒë·ªãa ƒëi·ªÉm v√† v√†i c√¢u chuy·ªán.", "C. Nh·ªõ nh·∫•t l√† c·∫£m gi√°c ng·∫°i ng√πng, tim ƒë·∫≠p th√¨nh th·ªãch l√∫c ƒë√≥.", "D. N√£o c√° v√†ng ƒë√£ qu√©t s·∫°ch tr√≠ nh·ªõ r√≤i."],
                correct: 0
            },
            {
                q: "C√¢u 17: Anh NhƒÉn nghƒ© b·∫£n th√¢n c√≥ t·∫≠t x·∫•u n√†o khi·∫øn B√© Th∆∞ b·ª±c m√¨nh nh·∫•t?",
                options: ["A. Hay c·∫±n nh·∫±n, c√†u nh√†u, n√≥i nhi·ªÅu.", "B. Tr·∫£ l·ªùi tin nh·∫Øn ch·∫≠m ho·∫∑c hay l∆° ƒë√£ng khi n√≥i chuy·ªán.", "C. Ng·ªß n∆∞·ªõng, l·ªÅ m·ªÅ, chu·∫©n b·ªã l√¢u m·ªói khi ƒëi ch∆°i.", "D. Hay ch·ªçc gh·∫πo, tr√™u ƒë√πa nh√¢y khi·∫øn B√© Th∆∞ qu·∫°u."],
                correct: 3
            },
            {
                q: "C√¢u 18: ƒêi·ªÅu anh NhƒÉn coi tr·ªçng nh·∫•t ƒë·ªÉ duy tr√¨ m·ªëi quan h·ªá l√¢u d√†i l√† g√¨?",
                options: ["A. S·ª± th·∫•u hi·ªÉu v√† bi·∫øt l·∫Øng nghe nhau.", "B. S·ª± chung th·ªßy v√† tin t∆∞·ªüng tuy·ªát ƒë·ªëi.", "C. Lu√¥n bi·∫øt c√°ch l√†m m·ªõi t√¨nh y√™u, t·∫°o s·ª± l√£ng m·∫°n.", "D. S·ª± n·ªó l·ª±c c√πng nhau x√¢y d·ª±ng n·ªÅn t·∫£ng t√†i ch√≠nh t∆∞∆°ng lai."],
                correct: 1
            },
            {
                q: "C√¢u 19: Theo anh NhƒÉn nghƒ©, l√∫c hai ƒë·ª©a ·ªü b√™n nhau, ai l√† ng∆∞·ªùi nh√µng nh·∫Ωo/tr·∫ª con h∆°n?",
                options: ["A. Ch·∫Øc ch·∫Øn l√† B√© Th∆∞ g√≤i.", "B. Ch·∫Øc ch·∫Øn l√† anh NhƒÉn.", "C. T√πy l√∫c, ai m·ªát m·ªèi h∆°n th√¨ ng∆∞·ªùi ƒë√≥ nh√µng nh·∫Ωo.", "D. C·∫£ hai ƒë·ªÅu r·∫•t tr∆∞·ªüng th√†nh, hong ai tr·∫ª con h·∫øt."],
                correct: 1
            },
            {
                q: "C√¢u 20: ƒêi·ªÅu g√¨ ·ªü B√© Th∆∞ khi·∫øn anh NhƒÉn 'ƒë·ªï' g·ª•c nh·∫•t?",
                options: ["A. Ngo·∫°i h√¨nh, khu√¥n m·∫∑t, n·ª• c∆∞·ªùi xinh x·∫ªo.", "B. T√≠nh c√°ch h√†i h∆∞·ªõc, m·∫∑n m√≤i, n√≥i chuy·ªán r·∫•t d√≠nh.", "C. S·ª± chu ƒë√°o, hi·ªÅn l√†nh, lu√¥n quan t√¢m chƒÉm s√≥c.", "D. S·ª± th√¥ng minh, mang l·∫°i c·∫£m gi√°c l√† m·ªôt ng∆∞·ªùi ƒë·ªìng h√†nh ho√†n h·∫£o."],
                correct: 0
            }
        ];

        let currentQuestion = 0;
        let score = 0;
        let userChoices = [];

        // √Çm thanh
        const bgm = document.getElementById('bgm');
        const popSound = document.getElementById('pop-sound');
        bgm.volume = 0.3; // Nh·∫°c n·ªÅn nh·ªè v·ª´a ƒë·ªß

        function startQuiz() {
            document.getElementById('start-screen').classList.add('hidden');
            document.getElementById('quiz-screen').classList.remove('hidden');
            bgm.play().catch(e => console.log("Tr√¨nh duy·ªát ch·∫∑n autoplay audio"));
            loadQuestion();
        }

        function loadQuestion() {
            const q = quizData[currentQuestion];
            document.getElementById('current-q').innerText = currentQuestion + 1;
            document.getElementById('question-text').innerText = q.q;
            
            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';

            q.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => selectOption(index, btn);
                optionsContainer.appendChild(btn);
            });
        }

        function selectOption(selectedIndex, btnElement) {
            popSound.currentTime = 0;
            popSound.play().catch(e => {});

            // V√¥ hi·ªáu h√≥a t·∫•t c·∫£ c√°c n√∫t ƒë·ªÉ kh√¥ng cho b·∫•m l·∫°i
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.disabled = true);
            
            btnElement.classList.add('selected');
            
            // L∆∞u k·∫øt qu·∫£
            userChoices.push(selectedIndex);
            if(selectedIndex === quizData[currentQuestion].correct) {
                score++;
            }

            // ƒê·ª£i 0.8s cho ƒë·∫πp r·ªìi t·ª± nh·∫£y c√¢u ti·∫øp theo
            setTimeout(() => {
                currentQuestion++;
                if(currentQuestion < quizData.length) {
                    loadQuestion();
                } else {
                    showResult();
                }
            }, 800);
        }

        function showResult() {
            document.getElementById('quiz-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            
            document.getElementById('score-text').innerText = `${score} / 20`;
            
            let msg = "";
            if(score >= 16) msg = "ü•∞ SOULMATE ƒê√çCH TH·ª∞C! B√© Th∆∞ ƒëi gu·ªëc trong b·ª•ng anh NhƒÉn r√≤i nhaaa!";
            else if(score >= 11) msg = "üòò Gi·ªèi gh√™ ta! R·∫•t l√† hi·ªÉu nhau lu√¥n, ch·ªâ sai s√≥t v√†i ch√∫t x√≠u hoi!";
            else if(score >= 6) msg = "ü§î C≈©ng h·ªâu s∆∞∆°ng s∆∞∆°ng, nma t·ªëi nay ph·∫£i t√¢m s·ª± n√≥i chuy·ªán v·ªõi nhau nhi·ªÅu h∆°n r√≤iiii!";
            else msg = "ü´£ Ch√≠t ch√≠t! B√© Th∆∞ c√≥ ch·∫Øc l√† y√™u ƒë√∫ng ng∆∞·ªùi hong d·ªã ch√≤i ·ªùi??? Ph·∫°t t·ªëi nay bao ƒÉn!";
            
            document.getElementById('msg-text').innerText = msg;

            // Render Review B√≥c Ph·ªët
            const reviewContainer = document.getElementById('review-container');
            let reviewHTML = '';

            quizData.forEach((q, qIndex) => {
                let thuChoice = userChoices[qIndex];
                let nhanChoice = q.correct;
                
                reviewHTML += `<div class="review-item">
                    <div class="review-q">${q.q}</div>`;
                
                q.options.forEach((opt, optIndex) => {
                    let cssClass = 'review-opt';
                    let badge = '';

                    if(optIndex === nhanChoice && optIndex === thuChoice) {
                        cssClass += ' both-match';
                        badge = '<span class="badge bg-match">B√© Th∆∞ hi·ªÉu ƒë√∫ng √Ω anh NhƒÉn g√≤iii ‚ù§Ô∏è</span>';
                    } else if (optIndex === thuChoice) {
                        cssClass += ' thu-chose';
                        badge = '<span class="badge bg-thu">B√© Th∆∞ ch·ªçn c√°i n√†y ‚ùå</span>';
                    } else if (optIndex === nhanChoice) {
                        cssClass += ' nhan-correct';
                        badge = '<span class="badge bg-nhan">S·ª± th·∫≠t c·ªßa a NhƒÉn n√® ‚úîÔ∏è</span>';
                    }

                    reviewHTML += `<div class="${cssClass}">${opt} ${badge}</div>`;
                });
                
                reviewHTML += `</div>`;
            });
            
            reviewContainer.innerHTML = reviewHTML;
        }
    </script>
</body>
</html>
